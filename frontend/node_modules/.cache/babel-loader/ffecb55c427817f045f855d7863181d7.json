{"ast":null,"code":"import _slicedToArray from\"C:/Users/ZEE/Yandex/react-around-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import{Link,withRouter,useLocation}from'react-router-dom';import logo from\"../images/logo.svg\";import{CurrentUserContext}from'../contexts/CurrentUserContext';function Header(props){var currentUser=React.useContext(CurrentUserContext);var location=useLocation();var _React$useState=React.useState('login'),_React$useState2=_slicedToArray(_React$useState,2),currentLocation=_React$useState2[0],setLocation=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),showMenu=_React$useState4[0],setShowMenu=_React$useState4[1];function logOutUser(){props.login(false);setShowMenu(false);}function handleShowMenu(){setShowMenu(!showMenu);}//change the display depending on the current page. Default is signin page\n//what to display is determined in the return statement\nReact.useEffect(function(){if(location.pathname==='/signup'){setLocation('signup');}else if(location.pathname==='/login'){setLocation('login');}},[location]);return/*#__PURE__*/_jsxs(\"header\",{className:\"header \".concat(!props.loggedIn&&'header_state_loggedOut'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header__logo-menu\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"header__logo\",src:logo,alt:\"logo\"}),props.loggedIn&&/*#__PURE__*/_jsx(\"button\",{className:\"header__menu-icon \".concat(showMenu&&'header__menu-icon_state_closed'),type:\"button\",onClick:handleShowMenu})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"header__nav \".concat(!showMenu&&props.loggedIn&&'header__nav_state_closed'),children:props.loggedIn?/*#__PURE__*/ //logged in\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"header__email\",children:currentUser.email}),/*#__PURE__*/_jsx(\"button\",{className:\"header__link_type_logout\",type:\"button\",onClick:logOutUser,children:\"Log out\"})]})://logged out\ncurrentLocation==='login'?/*#__PURE__*/ //login header\n_jsx(Link,{to:\"./signup\",className:\"header__link\",children:\"Sign up\"}):/*#__PURE__*/ //signup header\n_jsx(Link,{to:\"./login\",className:\"header__link\",children:\"Log in\"})})]});}export default withRouter(Header);","map":{"version":3,"sources":["C:/Users/ZEE/Yandex/react-around-api-full/frontend/src/components/Header.js"],"names":["React","Link","withRouter","useLocation","CurrentUserContext","Header","props","currentUser","useContext","location","useState","currentLocation","setLocation","showMenu","setShowMenu","logOutUser","login","handleShowMenu","useEffect","pathname","loggedIn","logo","email"],"mappings":"sTAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,CAA2BC,WAA3B,KAA8C,kBAA9C,C,qCAEA,OAAQC,kBAAR,KAAiC,gCAAjC,CAEA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CACrB,GAAMC,CAAAA,WAAW,CAAGP,KAAK,CAACQ,UAAN,CAAiBJ,kBAAjB,CAApB,CACA,GAAMK,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAFqB,oBAGkBH,KAAK,CAACU,QAAN,CAAe,OAAf,CAHlB,oDAGdC,eAHc,qBAGGC,WAHH,0CAIWZ,KAAK,CAACU,QAAN,CAAe,KAAf,CAJX,qDAIdG,QAJc,qBAIJC,WAJI,qBAMrB,QAASC,CAAAA,UAAT,EAAqB,CACnBT,KAAK,CAACU,KAAN,CAAY,KAAZ,EACAF,WAAW,CAAC,KAAD,CAAX,CACD,CAED,QAASG,CAAAA,cAAT,EAAyB,CACvBH,WAAW,CAAC,CAACD,QAAF,CAAX,CACD,CAED;AACA;AACAb,KAAK,CAACkB,SAAN,CAAgB,UAAM,CACpB,GAAGT,QAAQ,CAACU,QAAT,GAAsB,SAAzB,CAAoC,CAClCP,WAAW,CAAC,QAAD,CAAX,CACD,CAFD,IAGK,IAAGH,QAAQ,CAACU,QAAT,GAAsB,QAAzB,CAAkC,CACrCP,WAAW,CAAC,OAAD,CAAX,CACD,CACF,CAPD,CAOG,CAACH,QAAD,CAPH,EASA,mBACE,gBAAQ,SAAS,kBAAY,CAACH,KAAK,CAACc,QAAP,EAAmB,wBAA/B,CAAjB,wBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,YAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAEC,IAAnC,CAAyC,GAAG,CAAC,MAA7C,EADF,CAEGf,KAAK,CAACc,QAAN,eAAkB,eAAQ,SAAS,6BAAuBP,QAAQ,EAAK,gCAApC,CAAjB,CAAyF,IAAI,CAAC,QAA9F,CAAuG,OAAO,CAAEI,cAAhH,EAFrB,GADF,cAKE,YAAK,SAAS,uBAAkB,CAACJ,QAAD,EAAaP,KAAK,CAACc,QAApB,EAAiC,0BAAlD,CAAd,UACGd,KAAK,CAACc,QAAN,eACD;AACA,wCAAE,UAAG,SAAS,CAAC,eAAb,UAA8Bb,WAAW,CAACe,KAA1C,EAAF,cACA,eAAQ,SAAS,CAAC,0BAAlB,CAA6C,IAAI,CAAC,QAAlD,CAA2D,OAAO,CAAEP,UAApE,qBADA,GAFC,CAID;AACAJ,eAAe,GAAK,OAApB,eACE;AACA,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,cAA9B,qBAFF,eAGE;AACA,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,SAAS,CAAC,cAA7B,oBAVJ,EALF,GADF,CAmBE,CAEJ,cAAeT,CAAAA,UAAU,CAACG,MAAD,CAAzB","sourcesContent":["import React from 'react';\r\nimport { Link, withRouter, useLocation } from 'react-router-dom';\r\nimport logo from '../images/logo.svg';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Header(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const location = useLocation();\r\n  const [currentLocation, setLocation] = React.useState('login');\r\n  const [showMenu, setShowMenu] = React.useState(false);\r\n\r\n  function logOutUser(){\r\n    props.login(false);\r\n    setShowMenu(false);\r\n  }\r\n\r\n  function handleShowMenu(){\r\n    setShowMenu(!showMenu);\r\n  }\r\n\r\n  //change the display depending on the current page. Default is signin page\r\n  //what to display is determined in the return statement\r\n  React.useEffect(() => {\r\n    if(location.pathname === '/signup') { \r\n      setLocation('signup');\r\n    }\r\n    else if(location.pathname === '/login'){\r\n      setLocation('login');\r\n    }\r\n  }, [location]);\r\n  \r\n  return (\r\n    <header className={`header ${!props.loggedIn && 'header_state_loggedOut'}`}>\r\n      <div className=\"header__logo-menu\">\r\n        <img className=\"header__logo\" src={logo} alt=\"logo\" />\r\n        {props.loggedIn && <button className={`header__menu-icon ${showMenu  && 'header__menu-icon_state_closed'}`} type=\"button\" onClick={handleShowMenu}></button>}\r\n      </div>\r\n      <nav className={`header__nav ${(!showMenu && props.loggedIn) && 'header__nav_state_closed'}`}>\r\n        {props.loggedIn ? \r\n        //logged in\r\n        <><p className=\"header__email\">{currentUser.email}</p>\r\n        <button className=\"header__link_type_logout\" type=\"button\" onClick={logOutUser}>Log out</button></> : \r\n        //logged out\r\n        currentLocation === 'login' ? \r\n          //login header\r\n          <Link to=\"./signup\" className=\"header__link\">Sign up</Link>: \r\n          //signup header\r\n          <Link to=\"./login\" className=\"header__link\">Log in</Link>}\r\n      </nav>\r\n    </header>\r\n  )}\r\n\r\nexport default withRouter(Header);"]},"metadata":{},"sourceType":"module"}