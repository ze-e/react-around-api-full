{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ZEE\\\\Yandex\\\\react-around-api-full\\\\frontend\\\\src\\\\components\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Link, withRouter, useLocation } from 'react-router-dom';\nimport logo from \"../images/logo.svg\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Header(props) {\n  _s();\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const location = useLocation();\n  const [currentLocation, setLocation] = React.useState('login');\n  const [showMenu, setShowMenu] = React.useState(false);\n\n  function logOutUser() {\n    props.login(false);\n    setShowMenu(false);\n  }\n\n  function handleShowMenu() {\n    setShowMenu(!showMenu);\n  } //change the display depending on the current page. Default is signin page\n  //what to display is determined in the return statement\n\n\n  React.useEffect(() => {\n    if (location.pathname === '/signup') {\n      setLocation('signup');\n    } else if (location.pathname === '/login') {\n      setLocation('login');\n    }\n  }, [location]);\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: `header ${!props.loggedIn && 'header_state_loggedOut'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header__logo-menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"header__logo\",\n        src: logo,\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), props.loggedIn && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `header__menu-icon ${showMenu && 'header__menu-icon_state_closed'}`,\n        type: \"button\",\n        onClick: handleShowMenu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: `header__nav ${!showMenu && props.loggedIn && 'header__nav_state_closed'}`,\n      children: props.loggedIn ?\n      /*#__PURE__*/\n      //logged in\n      _jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"header__email\",\n          children: props.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"header__link_type_logout\",\n          type: \"button\",\n          onClick: logOutUser,\n          children: \"Log out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true) : //logged out\n      currentLocation === 'login' ?\n      /*#__PURE__*/\n      //login header\n      _jsxDEV(Link, {\n        to: \"./signup\",\n        className: \"header__link\",\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this) :\n      /*#__PURE__*/\n      //signup header\n      _jsxDEV(Link, {\n        to: \"./login\",\n        className: \"header__link\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Header, \"Bhg1lHizRDIWAb43AH1v+9L639U=\", false, function () {\n  return [useLocation];\n});\n\n_c = Header;\nexport default _c2 = withRouter(Header);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/ZEE/Yandex/react-around-api-full/frontend/src/components/Header.js"],"names":["React","Link","withRouter","useLocation","CurrentUserContext","Header","props","currentUser","useContext","location","currentLocation","setLocation","useState","showMenu","setShowMenu","logOutUser","login","handleShowMenu","useEffect","pathname","loggedIn","logo","email"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,WAA3B,QAA8C,kBAA9C;;AAEA,SAAQC,kBAAR,QAAiC,gCAAjC;;AAEA,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;AAAA;;AACrB,QAAMC,WAAW,GAAGP,KAAK,CAACQ,UAAN,CAAiBJ,kBAAjB,CAApB;AACA,QAAMK,QAAQ,GAAGN,WAAW,EAA5B;AACA,QAAM,CAACO,eAAD,EAAkBC,WAAlB,IAAiCX,KAAK,CAACY,QAAN,CAAe,OAAf,CAAvC;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bd,KAAK,CAACY,QAAN,CAAe,KAAf,CAAhC;;AAEA,WAASG,UAAT,GAAqB;AACnBT,IAAAA,KAAK,CAACU,KAAN,CAAY,KAAZ;AACAF,IAAAA,WAAW,CAAC,KAAD,CAAX;AACD;;AAED,WAASG,cAAT,GAAyB;AACvBH,IAAAA,WAAW,CAAC,CAACD,QAAF,CAAX;AACD,GAboB,CAerB;AACA;;;AACAb,EAAAA,KAAK,CAACkB,SAAN,CAAgB,MAAM;AACpB,QAAGT,QAAQ,CAACU,QAAT,KAAsB,SAAzB,EAAoC;AAClCR,MAAAA,WAAW,CAAC,QAAD,CAAX;AACD,KAFD,MAGK,IAAGF,QAAQ,CAACU,QAAT,KAAsB,QAAzB,EAAkC;AACrCR,MAAAA,WAAW,CAAC,OAAD,CAAX;AACD;AACF,GAPD,EAOG,CAACF,QAAD,CAPH;AASA,sBACE;AAAQ,IAAA,SAAS,EAAG,UAAS,CAACH,KAAK,CAACc,QAAP,IAAmB,wBAAyB,EAAzE;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,GAAG,EAAEC,IAAnC;AAAyC,QAAA,GAAG,EAAC;AAA7C;AAAA;AAAA;AAAA;AAAA,cADF,EAEGf,KAAK,CAACc,QAAN,iBAAkB;AAAQ,QAAA,SAAS,EAAG,qBAAoBP,QAAQ,IAAK,gCAAiC,EAAtF;AAAyF,QAAA,IAAI,EAAC,QAA9F;AAAuG,QAAA,OAAO,EAAEI;AAAhH;AAAA;AAAA;AAAA;AAAA,cAFrB;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAKE;AAAK,MAAA,SAAS,EAAG,eAAe,CAACJ,QAAD,IAAaP,KAAK,CAACc,QAApB,IAAiC,0BAA2B,EAA3F;AAAA,gBACGd,KAAK,CAACc,QAAN;AAAA;AACD;AACA;AAAA,gCAAE;AAAG,UAAA,SAAS,EAAC,eAAb;AAAA,oBAA8Bd,KAAK,CAACgB;AAApC;AAAA;AAAA;AAAA;AAAA,gBAAF,eACA;AAAQ,UAAA,SAAS,EAAC,0BAAlB;AAA6C,UAAA,IAAI,EAAC,QAAlD;AAA2D,UAAA,OAAO,EAAEP,UAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA,sBAFC,GAID;AACAL,MAAAA,eAAe,KAAK,OAApB;AAAA;AACE;AACA,cAAC,IAAD;AAAM,QAAA,EAAE,EAAC,UAAT;AAAoB,QAAA,SAAS,EAAC,cAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAGE;AACA,cAAC,IAAD;AAAM,QAAA,EAAE,EAAC,SAAT;AAAmB,QAAA,SAAS,EAAC,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVJ;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmBE;;GA7CKL,M;UAEUF,W;;;KAFVE,M;AA+CT,qBAAeH,UAAU,CAACG,MAAD,CAAzB","sourcesContent":["import React from 'react';\r\nimport { Link, withRouter, useLocation } from 'react-router-dom';\r\nimport logo from '../images/logo.svg';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Header(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const location = useLocation();\r\n  const [currentLocation, setLocation] = React.useState('login');\r\n  const [showMenu, setShowMenu] = React.useState(false);\r\n\r\n  function logOutUser(){\r\n    props.login(false);\r\n    setShowMenu(false);\r\n  }\r\n\r\n  function handleShowMenu(){\r\n    setShowMenu(!showMenu);\r\n  }\r\n\r\n  //change the display depending on the current page. Default is signin page\r\n  //what to display is determined in the return statement\r\n  React.useEffect(() => {\r\n    if(location.pathname === '/signup') { \r\n      setLocation('signup');\r\n    }\r\n    else if(location.pathname === '/login'){\r\n      setLocation('login');\r\n    }\r\n  }, [location]);\r\n  \r\n  return (\r\n    <header className={`header ${!props.loggedIn && 'header_state_loggedOut'}`}>\r\n      <div className=\"header__logo-menu\">\r\n        <img className=\"header__logo\" src={logo} alt=\"logo\" />\r\n        {props.loggedIn && <button className={`header__menu-icon ${showMenu  && 'header__menu-icon_state_closed'}`} type=\"button\" onClick={handleShowMenu}></button>}\r\n      </div>\r\n      <nav className={`header__nav ${(!showMenu && props.loggedIn) && 'header__nav_state_closed'}`}>\r\n        {props.loggedIn ? \r\n        //logged in\r\n        <><p className=\"header__email\">{props.email}</p>\r\n        <button className=\"header__link_type_logout\" type=\"button\" onClick={logOutUser}>Log out</button></> : \r\n        //logged out\r\n        currentLocation === 'login' ? \r\n          //login header\r\n          <Link to=\"./signup\" className=\"header__link\">Sign up</Link>: \r\n          //signup header\r\n          <Link to=\"./login\" className=\"header__link\">Log in</Link>}\r\n      </nav>\r\n    </header>\r\n  )}\r\n\r\nexport default withRouter(Header);"]},"metadata":{},"sourceType":"module"}