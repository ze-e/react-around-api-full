{"ast":null,"code":"import _slicedToArray from\"C:/Users/ZEE/Yandex/react-around-api-full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import{Link,withRouter}from'react-router-dom';function SignUp(props){//loading\nvar _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];//form field\nvar _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),email=_React$useState4[0],setEmail=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),password=_React$useState6[0],setPassword=_React$useState6[1];//reset form on open\nReact.useEffect(function(){setFormInvalid(true);setLoading(false);},[]);function handleSubmit(e){//check if the form is valid before sending\ne.preventDefault();if(!formInvalid){//register user\nsetLoading(true);props.registerUser(email,password);setLoading(false);}}/* CLIENT FORM VALIDATION\r\n    By default, no validation error for blank required field is \r\n    shown at the beginning, but the submit button will be\r\n    disabled.\r\n\r\n    The button style/disabled state and individual field validations are \r\n    independent of one another. Field validations control only the field styles, \r\n    and form/button validation controls the ability to send the form\r\n  */var formRef=React.useRef();var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),emailError=_React$useState8[0],setEmailError=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),passwordError=_React$useState10[0],setPasswordError=_React$useState10[1];var _React$useState11=React.useState(true),_React$useState12=_slicedToArray(_React$useState11,2),formInvalid=_React$useState12[0],setFormInvalid=_React$useState12[1];function handleEmail(e){//set value\nsetEmail(e.target.value);//set error\nprops.fieldValidator(e.target,setEmailError);}function handlePassword(e){//set value\nsetPassword(e.target.value);//set error\nprops.fieldValidator(e.target,setPasswordError);}function validateForm(){props.formValidator(formRef.current,'.login__input')?setFormInvalid(true):setFormInvalid(false);}return/*#__PURE__*/_jsx(\"section\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login__container\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"login__form\",onSubmit:handleSubmit,onChange:validateForm,ref:formRef,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"login__title\",children:\"Sign up\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login__input \".concat(emailError!==''&&'popup__input_type_error'),id:\"email-input\",type:\"email\",name:\"email\",minLength:\"2\",maxLength:\"40\",required:true,placeholder:\"Email\",value:email,onChange:handleEmail}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error  \".concat(emailError!==''&&'popup__error_visible'),children:emailError}),/*#__PURE__*/_jsx(\"input\",{className:\"login__input \".concat(passwordError!==''&&'popup__input_type_error'),id:\"password-input\",type:\"password\",name:\"password\",minLength:\"7\",maxLength:\"12\",required:true,placeholder:\"Password\",value:password,onChange:handlePassword}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error \".concat(passwordError!==''&&'popup__error_visible'),children:passwordError}),/*#__PURE__*/_jsx(\"button\",{className:\"login__submit \".concat(formInvalid&&'login__submit_disabled'),disabled:formInvalid,type:\"submit\",children:\"\".concat(loading?'Loading...':'Sign Up')})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"login__caption\",children:[\"Already a member? Log in \",/*#__PURE__*/_jsx(Link,{to:\"./login\",className:\"login__link\",children:\"here\"}),\"!\"]})]})});}export default withRouter(SignUp);","map":{"version":3,"sources":["C:/Users/ZEE/Yandex/react-around-api-full/frontend/src/components/SignUp.js"],"names":["React","Link","withRouter","SignUp","props","useState","loading","setLoading","email","setEmail","password","setPassword","useEffect","setFormInvalid","handleSubmit","e","preventDefault","formInvalid","registerUser","formRef","useRef","emailError","setEmailError","passwordError","setPasswordError","handleEmail","target","value","fieldValidator","handlePassword","validateForm","formValidator","current"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nfunction SignUp(props){\r\n    //loading\r\n  const [loading, setLoading] = React.useState(false);\r\n    //form field\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  //reset form on open\r\n  React.useEffect(()=>{\r\n    setFormInvalid(true);\r\n    setLoading(false);\r\n  },[])\r\n  \r\n  function handleSubmit(e) {\r\n    //check if the form is valid before sending\r\n    e.preventDefault();\r\n    if(!formInvalid){   \r\n      //register user\r\n      setLoading(true);\r\n      props.registerUser(email, password);\r\n      setLoading(false);\r\n    }\r\n  } \r\n\r\n  /* CLIENT FORM VALIDATION\r\n    By default, no validation error for blank required field is \r\n    shown at the beginning, but the submit button will be\r\n    disabled.\r\n\r\n    The button style/disabled state and individual field validations are \r\n    independent of one another. Field validations control only the field styles, \r\n    and form/button validation controls the ability to send the form\r\n  */\r\n  const formRef = React.useRef();\r\n  const [emailError, setEmailError] = React.useState('');\r\n  const [passwordError, setPasswordError] = React.useState('');\r\n  const [formInvalid, setFormInvalid] = React.useState(true)\r\n\r\nfunction handleEmail(e) {\r\n  //set value\r\n  setEmail(e.target.value);\r\n  //set error\r\n  props.fieldValidator(e.target, setEmailError)\r\n}\r\n\r\nfunction handlePassword(e) {\r\n  //set value\r\n  setPassword(e.target.value);\r\n  //set error\r\n  props.fieldValidator(e.target, setPasswordError)\r\n}\r\n\r\nfunction validateForm(){\r\n  props.formValidator(formRef.current,'.login__input') ? setFormInvalid(true) : setFormInvalid(false);\r\n}\r\n\r\n  return(\r\n    <section className=\"login\">\r\n    <div className=\"login__container\">\r\n      <form className=\"login__form\" onSubmit={handleSubmit} onChange={validateForm} ref={formRef}>\r\n      <h1 className=\"login__title\">Sign up</h1>\r\n        <input className={`login__input ${emailError !=='' && 'popup__input_type_error'}`} id=\"email-input\" type=\"email\" name=\"email\" minLength=\"2\" maxLength=\"40\" required placeholder=\"Email\" value={email} onChange={handleEmail}/>\r\n          <span className={`popup__input-error  ${emailError !=='' && 'popup__error_visible'}`}>{emailError}</span>\r\n        <input className={`login__input ${passwordError !=='' && 'popup__input_type_error'}`} id=\"password-input\" type=\"password\" name=\"password\" minLength=\"7\" maxLength=\"12\" required placeholder=\"Password\" value={password} onChange={handlePassword}/>\r\n          <span className={`popup__input-error ${passwordError !=='' && 'popup__error_visible'}`}>{passwordError}</span>\r\n        <button className={`login__submit ${formInvalid && 'login__submit_disabled'}`} disabled={formInvalid} type=\"submit\">{`${loading ? 'Loading...':'Sign Up'}`}</button>\r\n      </form>\r\n      <p className=\"login__caption\">Already a member? Log in <Link to=\"./login\" className=\"login__link\">here</Link>!</p>\r\n    </div>\r\n  </section>  \r\n  )\r\n}\r\n\r\nexport default withRouter(SignUp);"]},"metadata":{},"sourceType":"module"}