{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ZEE\\\\Yandex\\\\react-around-api-full\\\\frontend\\\\src\\\\components\\\\Card.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  _s();\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLike() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDelete() {\n    props.onCardDelete(props.card);\n  } //control delete button visibility\n  //const isOwn = props.card.owner._id === currentUser._id;\n\n\n  const isOwn = props.card.owner === currentUser._id;\n  const cardDeleteButtonClassName = `element__delete-button ${isOwn && 'element__delete-button_visibility_visible'}`; //check if card was already liked\n  //const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n  let isLiked;\n\n  try {\n    isLiked = props.card.likes.some(i => i === currentUser._id); //const isLiked = props.card.likes.some(i => i === currentUser._id);\n  } catch {\n    console.log(props.card.name);\n    console.log(props.card.likes);\n  }\n\n  const cardLikeButtonClassName = `element__like-button ${isLiked && 'element__like-button_stateliked'}`;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: cardDeleteButtonClassName,\n      onClick: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"element__image\",\n      src: props.card.link,\n      onClick: handleClick,\n      alt: \"place\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"element__text\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"element__title\",\n        children: props.card.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"element__likes-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: cardLikeButtonClassName,\n          onClick: handleLike\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"element__likes-display\",\n          children: props.card.likes.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Card, \"fR8wccA8kuOmI8tLX/QG90sBSlk=\");\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["C:/Users/ZEE/Yandex/react-around-api-full/frontend/src/components/Card.js"],"names":["React","CurrentUserContext","Card","props","currentUser","useContext","handleClick","onCardClick","card","handleLike","onCardLike","handleDelete","onCardDelete","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","console","log","name","cardLikeButtonClassName","link","length"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,kBAAR,QAAiC,gCAAjC;;AAGA,SAASC,IAAT,CAAcC,KAAd,EAAoB;AAAA;;AAClB,QAAMC,WAAW,GAAGJ,KAAK,CAACK,UAAN,CAAiBJ,kBAAjB,CAApB;;AAEA,WAASK,WAAT,GAAuB;AACrBH,IAAAA,KAAK,CAACI,WAAN,CAAkBJ,KAAK,CAACK,IAAxB;AACD;;AAED,WAASC,UAAT,GAAsB;AACpBN,IAAAA,KAAK,CAACO,UAAN,CAAiBP,KAAK,CAACK,IAAvB;AACD;;AAED,WAASG,YAAT,GAAwB;AACtBR,IAAAA,KAAK,CAACS,YAAN,CAAmBT,KAAK,CAACK,IAAzB;AACD,GAbiB,CAelB;AACA;;;AACA,QAAMK,KAAK,GAAGV,KAAK,CAACK,IAAN,CAAWM,KAAX,KAAqBV,WAAW,CAACW,GAA/C;AAGA,QAAMC,yBAAyB,GAC5B,0BAAyBH,KAAK,IAAI,2CAA4C,EADjF,CApBkB,CAwBlB;AACA;;AACA,MAAII,OAAJ;;AACA,MAAG;AACFA,IAAAA,OAAO,GAAGd,KAAK,CAACK,IAAN,CAAWU,KAAX,CAAiBC,IAAjB,CAAsBC,CAAC,IAAIA,CAAC,KAAKhB,WAAW,CAACW,GAA7C,CAAV,CADE,CAEH;AACC,GAHD,CAGC,MAAK;AACJM,IAAAA,OAAO,CAACC,GAAR,CAAYnB,KAAK,CAACK,IAAN,CAAWe,IAAvB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYnB,KAAK,CAACK,IAAN,CAAWU,KAAvB;AACD;;AAED,QAAMM,uBAAuB,GAAI,wBAAuBP,OAAO,IAAI,iCAAkC,EAArG;AAEA,sBACA;AAAA,4BACA;AAAK,MAAA,SAAS,EAAED,yBAAhB;AAA2C,MAAA,OAAO,EAAEL;AAApD;AAAA;AAAA;AAAA;AAAA,YADA,eAEA;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAgC,MAAA,GAAG,EAAER,KAAK,CAACK,IAAN,CAAWiB,IAAhD;AAAsD,MAAA,OAAO,EAAEnB,WAA/D;AAA4E,MAAA,GAAG,EAAC;AAAhF;AAAA;AAAA;AAAA;AAAA,YAFA,eAGA;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,gBAAd;AAAA,kBAAgCH,KAAK,CAACK,IAAN,CAAWe;AAA3C;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,0BAAf;AAAA,gCACE;AAAQ,UAAA,SAAS,EAAEC,uBAAnB;AAA4C,UAAA,OAAO,EAAEf;AAArD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAG,UAAA,SAAS,EAAC,wBAAb;AAAA,oBAAuCN,KAAK,CAACK,IAAN,CAAWU,KAAX,CAAiBQ;AAAxD;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAHA;AAAA,kBADA;AAaD;;GAlDQxB,I;;KAAAA,I;AAoDT,eAAeA,IAAf","sourcesContent":["import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  } \r\n\r\n  function handleLike() {\r\n    props.onCardLike(props.card);\r\n  } \r\n\r\n  function handleDelete() {\r\n    props.onCardDelete(props.card);\r\n  } \r\n\r\n  //control delete button visibility\r\n  //const isOwn = props.card.owner._id === currentUser._id;\r\n  const isOwn = props.card.owner === currentUser._id;\r\n\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `element__delete-button ${isOwn && 'element__delete-button_visibility_visible'}`\r\n  ); \r\n\r\n  //check if card was already liked\r\n  //const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  let isLiked;\r\n  try{\r\n   isLiked = props.card.likes.some(i => i === currentUser._id);\r\n  //const isLiked = props.card.likes.some(i => i === currentUser._id);\r\n  }catch{\r\n    console.log(props.card.name);\r\n    console.log(props.card.likes);\r\n  }\r\n\r\n  const cardLikeButtonClassName = `element__like-button ${isLiked && 'element__like-button_stateliked'}`; \r\n\r\n  return(\r\n  <>\r\n  <div className={cardDeleteButtonClassName} onClick={handleDelete} ></div>\r\n  <img className=\"element__image\" src={props.card.link} onClick={handleClick} alt=\"place\"/>\r\n  <div className=\"element__text\">\r\n    <h2 className=\"element__title\">{props.card.name}</h2>\r\n    <div className=\"element__likes-container\">\r\n      <button className={cardLikeButtonClassName} onClick={handleLike}></button>\r\n      <p className=\"element__likes-display\">{props.card.likes.length}</p>\r\n    </div>\r\n  </div>\r\n  </>\r\n  )\r\n}\r\n\r\nexport default Card;"]},"metadata":{},"sourceType":"module"}